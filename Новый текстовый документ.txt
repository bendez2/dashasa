&НаСервере
Процедура ИмпортДанныхНаСервере(ИмяФайла)
Текст = Новый ТекстовыйДокумент();
Текст.Прочитать(ИмяФайла);

КоличествоСтрок = Текст.КоличествоСтрок();

Для Счетчик = 2 по КоличествоСтрок Цикл
ТекСтрока = Текст.ПолучитьСтроку(Счетчик);
МассивСтр = СтрРазделить(ТекСтрока,";");
ИнфНос = Справочники.Товар.СоздатьЭлемент();
ИнфНос.Код = МассивСтр[0];
ИнфНос.Наименование = МассивСтр[1];
ИнфНос.Количество = МассивСтр[2];
ИнфНос.Владелец = Справочники.Категория.НайтиПоНаименованию(МассивСтр[3]);
ИнфНос.Цена = МассивСтр[4];
ИнфНос.Записать();
КонецЦикла;
Сообщить ("Импорт успешно выполнен");
КонецПроцедуры

&НаКлиенте
Процедура Импорт(Команда)
ДиалогВыбора = Новый ДиалогВыбораФайла(РежимДиалогаВыбораФайла.Открытие);

ДиалогВыбора.Заголовок = "Выберите файл";

Если ДиалогВыбора.Выбрать() Тогда

ИмяФайла = ДиалогВыбора.ПолноеИмяФайла;
КонецЕсли;
ИмпортДанныхНаСервере(ИмяФайла)

КонецПроцедуры



&НаКлиенте
Процедура ТипОбъектаПриИзменении(Элемент) 
	 	x = Объект.ТипОбъекта;
		Если x = ПредопределенноеЗначение("Перечисление.Тип.Квартира") тогда
		Элементы.Площадь.Видимость = Истина; 
		Элементы.Цены.Видимость = Истина;
        Элементы.Комнаты.Видимость = Истина;
		Элементы.Этажи.Видимость=Истина;
		Элементы.МаксЭтаж.Заголовок = "Макс этаж";
        Элементы.МинЭтаж.Заголовок = "Мин этаж";


	ИначеЕсли x = ПредопределенноеЗначение("Перечисление.Тип.Земля") тогда
		Элементы.Площадь.Видимость = Истина; 
		Элементы.Цены.Видимость = Ложь;
        Элементы.Комнаты.Видимость = Ложь;
		Элементы.Этажи.Видимость=ложь;
		
	ИначеЕсли x = ПредопределенноеЗначение("Перечисление.Тип.Дом") тогда
		Элементы.Площадь.Видимость = Истина; 
		Элементы.Цены.Видимость = Истина;
        Элементы.Комнаты.Видимость = Истина;
		Элементы.Этажи.Видимость=Истина;
		Элементы.МаксЭтаж.Заголовок = "Макс этажность дома";
        Элементы.МинЭтаж.Заголовок = "Мин этажность дома";
	КонецЕсли;	             
КонецПроцедуры
